var l=Object.defineProperty;var d=(s,t,e)=>t in s?l(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>(d(s,typeof t!="symbol"?t+"":t,e),e);import{p as y}from"./p5.min.js";const r=document.querySelector("#app"),u=s=>{let t=[],e=30;s.setup=()=>{s.createCanvas(600,400),s.colorMode(s.HSB),s.stroke(200);for(let a=0;a<e;a++)t.push(new x(s))},s.draw=()=>{s.background(255);for(let a=0;a<e;a++)t[a].update(),t[a].render()}};r&&new y(u,r);class x{constructor(t){i(this,"n",4);i(this,"size");i(this,"vecLocation");i(this,"hue");i(this,"saturation");i(this,"brightness");i(this,"alpha");i(this,"xBase");i(this,"xRadius");i(this,"xTheta");i(this,"xaVelocity");i(this,"yVelocity");i(this,"ySizeTheta");i(this,"ySizeAVelocity");i(this,"yScale");this.p=t,this.size=t.random(20,50),this.hue=t.random(347,353),this.saturation=t.random(25,31),this.brightness=100,this.alpha=t.random(.6,1),this.xBase=t.random(t.width),this.xRadius=t.random(50,100),this.xTheta=t.random(360),this.xaVelocity=t.random(1,2),this.yVelocity=this.size/20,this.ySizeTheta=t.random(360),this.ySizeAVelocity=this.size/20,this.yScale=1,this.vecLocation=this.p.createVector(this.xBase,t.random(t.height))}update(){this.vecLocation.x=this.xBase+this.xRadius*Math.sin(this.radians(this.xTheta)),this.xTheta+=this.xaVelocity,this.vecLocation.y+=this.yVelocity,this.yScale=Math.abs(Math.sin(this.radians(this.ySizeTheta))),this.ySizeTheta+=this.ySizeAVelocity,this.vecLocation.y>this.p.height&&(this.vecLocation.y=-this.size)}render(){this.p.fill(this.hue,this.saturation,this.brightness,this.alpha),this.p.push(),this.p.translate(this.vecLocation.x,this.vecLocation.y),this.p.rotate(this.radians(this.xTheta)),this.p.beginShape();for(let t=0;t<360/4;t++){let e=4/Math.PI*this.radians(t),a=Math.floor(e)%2,h=Math.pow(-1,a)*(e-this.p.floor(e))+a,o=h+this.calculateH(h)*2,n=this.size*o*Math.cos(this.radians(t)),c=this.size*this.yScale*o*Math.sin(this.radians(t));this.p.vertex(n,c)}this.p.endShape(),this.p.pop()}calculateH(t){return t<.8?0:.8-t}radians(t){return t*Math.PI/180}}
